(this["webpackJsonpboard-games"]=this["webpackJsonpboard-games"]||[]).push([[0],{266:function(e,t,a){e.exports=a.p+"static/media/logo.02f448f0.png"},277:function(e,t,a){e.exports=a(546)},283:function(e,t,a){},350:function(e,t,a){},351:function(e,t,a){},362:function(e,t,a){},379:function(e,t){},381:function(e,t){},418:function(e,t){},419:function(e,t){},475:function(e,t,a){},476:function(e,t,a){},544:function(e,t,a){},545:function(e,t,a){},546:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),i=a(8),s=a.n(i),c=(a(282),a(283),a(71)),l=a(33),u=a(23),m=a(27),p=a(29),d=a(28),h=a(30),g=a(53),f=a(79),E=a(22),v=a(556),b=a(550),y=a(554),C=b.a.Paragraph,O=function(e){var t=e.title,a=e.name,n=e.btns,r=e.value;return o.a.createElement("div",{style:{marginBottom:10}},o.a.createElement(C,{strong:!0},t),o.a.createElement(y.a.Group,{onChange:e.handleChange,value:r,name:a},n.map((function(e){return o.a.createElement(y.a.Button,{value:e.value,key:e.value},e.placeholder)}))))},_=function(e){return o.a.createElement(v.a.Group,{className:"filters__checkbox",onChange:e.onChange},e.children)},S=a(551),j=a(553),I=function(e){var t=e.onChangeRange,a=e.onAfterChangeRange,n=e.onChangeMin,r=e.onChangeMax,i=e.minPrice,s=e.maxPrice,c=e.value,l=Object(f.a)(c,2),u=l[0],m=l[1];return o.a.createElement("div",{className:"range"},o.a.createElement(S.a,{range:!0,min:i,max:s,onChange:t,onAfterChange:a,defaultValue:[i,s],value:c}),o.a.createElement("div",{className:"range__input"},o.a.createElement(j.a,{min:i,max:s,value:u,onChange:n,style:{marginLeft:"10px"}}),o.a.createElement(j.a,{min:i,max:s,value:m,onChange:r,style:{marginRight:"10px"}})))},A=(a(350),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={sortBy:a.props.sortBy,orderBy:a.props.orderBy,manufacturer:a.props.manufacturer,type:a.props.type,value:a.props.value,min:0,max:1e4,currentPage:1},a.handeFiltersChange=function(){var e=Object(E.a)({},a.state);a.props.onChange(e)},a.onChangeManufacturer=function(e){a.setState({manufacturer:e},(function(){return a.handeFiltersChange()}))},a.onChangeType=function(e){a.setState({type:e},(function(){return a.handeFiltersChange()}))},a.onChangeMinValue=function(e){a.setState({min:e,value:[e,a.state.value[1]]},(function(){return a.handeFiltersChange()}))},a.onChangeMaxValue=function(e){a.setState({max:e,value:[a.state.value[0],e]},(function(){return a.handeFiltersChange()}))},a.onAfterChangeRange=function(e){var t=Object(f.a)(e,2),n=t[0],r=t[1];a.setState({min:n,max:r,value:e},(function(){return a.handeFiltersChange()}))},a.onChangeRange=function(e){var t=Object(f.a)(e,2),n=t[0],r=t[1];a.setState({min:n,max:r,value:e})},a.handleSortChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value),(function(){return a.handeFiltersChange()}))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"filters col-lg-3"},o.a.createElement("div",null,o.a.createElement(O,{title:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430",name:"sortBy",btns:[{value:"price",placeholder:"\u0426\u0435\u043d\u0430"},{value:"createdAt",placeholder:"\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430"}],handleChange:this.handleSortChange,value:this.state.sortBy})," ",o.a.createElement(O,{title:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435",name:"orderBy",btns:[{value:"asc",placeholder:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u0435"},{value:"desc",placeholder:"\u0423\u0431\u044b\u0432\u0430\u043d\u0438\u0435"}],handleChange:this.handleSortChange,value:this.state.orderBy})," ",o.a.createElement(_,{onChange:this.onChangeManufacturer},o.a.createElement("strong",null,"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c"),[o.a.createElement(v.a,{value:"Hobby World",key:"Hobby-world"},"Hobby World"),o.a.createElement(v.a,{value:"13 \u0420\u0435\u043d\u0442\u0433\u0435\u043d",key:"13-rentgen"},"13 \u0420\u0435\u043d\u0442\u0433\u0435\u043d"),o.a.createElement(v.a,{value:"2x2tv",key:"2x2tv"},"2x2tv")]),o.a.createElement(_,{onChange:this.onChangeType},o.a.createElement("strong",null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),[o.a.createElement(v.a,{value:"\u0418\u0433\u0440\u044b \u0438 \u0436\u0443\u0440\u043d\u0430\u043b\u044b",key:"games-and-magazines"},"\u0418\u0433\u0440\u044b \u0438 \u0436\u0443\u0440\u043d\u0430\u043b\u044b"),o.a.createElement(v.a,{value:"\u041a\u041a\u0418",key:"CCG"},"\u041a\u041a\u0418"),o.a.createElement(v.a,{value:"\u041d\u0430\u0441\u0442\u043e\u043b\u044c\u043d\u044b\u0435 \u0438\u0433\u0440\u044b",key:"board-games"},"\u041d\u0430\u0441\u0442\u043e\u043b\u044c\u043d\u044b\u0435 \u0438\u0433\u0440\u044b")]),o.a.createElement(I,{onChangeRange:this.onChangeRange,onAfterChangeRange:this.onAfterChangeRange,onChangeMin:this.onChangeMinValue,onChangeMax:this.onChangeMaxValue,value:this.state.value,minPrice:Math.floor(this.props.minPrice),maxPrice:Math.floor(this.props.maxPrice)})))}}]),t}(r.Component)),P=a(273),w=a(265),x=a(548),k=a(70),N=(a(351),a(35)),R=b.a.Paragraph,T=function(e){var t=e._id,a=e.title,n=e.images,r=e.price,i=e.onAddedToCart,s=e.onItemSelected,c=e.badge;return o.a.createElement(x.a,{className:"card-item",cover:o.a.createElement("img",{alt:"example",src:n,onClick:function(){return s(t)}})},o.a.createElement(R,{strong:!0,onClick:function(){return s(t)},className:"card__title"},a),o.a.createElement(R,{className:"card-price"},"".concat(r," \u0440\u0443\u0431\u043b\u0435\u0439")),-1!==c.map((function(e){return e._id})).indexOf(t)?o.a.createElement(N.b,{to:"badge"},o.a.createElement(k.a,{className:"item__buy",type:"secondary"},o.a.createElement("span",null,o.a.createElement("i",{className:"fas fa-cart-plus"})," \u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"))):o.a.createElement(k.a,{type:"secondary",onClick:i}," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 "))},M=(a(362),function(e){var t=e.games,a=e.allPages,n=e.currentPage,r=e.onChangePage,i=e.onAddedToCart,s=e.onItemSelected,c=e.badge;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"items"},t.map((function(e){return o.a.createElement(T,Object.assign({},e,{onAddedToCart:function(){return i(e._id)},key:e._id,onItemSelected:s,badge:c}))}))),a<=10?null:o.a.createElement(P.a,{defaultCurrent:n,total:a,onChange:r}))}),F=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={currentPage:a.props.currentPage},a.handeFiltersChange=function(){var e=Object(E.a)({},a.state);a.props.onChange(e)},a.onChangePage=function(e){a.setState({currentPage:e},(function(){return a.handeFiltersChange()}))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.games,a=e.loading,n=e.error,r=e.allPages,i=e.currentPage,s=e.onAddedToCart,c=e.history,l=e.badge;return o.a.createElement("div",{className:"col-lg-9 game-list"},n?o.a.createElement("p",null,"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"):o.a.createElement("div",{className:"catalog-wrapper"},a?o.a.createElement(w.a,{size:"large"}):o.a.createElement(M,{games:t,allPages:r,currentPage:i,onChangePage:this.onChangePage,onAddedToCart:s,onItemSelected:function(e){return c.push("games/".concat(e))},badge:l})))}}]),t}(r.Component),D=Object(c.g)(F),U=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleFilterChange=function(e){a.props.filterChange(e,(function(){return a.props.fetchGames(a.props.currentPage,a.props.sortBy,a.props.orderBy,a.props.manufacturer,a.props.type,a.props.value,a.props.allPages)}))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchGames(this.props.currentPage,this.props.sortBy,this.props.orderBy,this.props.manufacturer,this.props.type,this.props.value,this.props.allPages)}},{key:"render",value:function(){return o.a.createElement("div",{className:"catalog row"},o.a.createElement(A,{onChange:this.handleFilterChange,sortBy:this.props.sortBy,orderBy:this.props.orderBy,manufacturer:this.props.manufacturer,type:this.props.type,minPrice:this.props.minPrice,maxPrice:this.props.maxPrice,value:this.props.value}),o.a.createElement(D,{games:this.props.games,loading:this.props.loading,error:this.props.error,currentPage:this.props.currentPage,allPages:this.props.allPages,onChange:this.handleFilterChange,onAddedToCart:this.props.onAddedToCart,badge:this.props.badge}))}}]),t}(r.Component),G=a(17),B=a.n(G),q=a(32),L=function e(){var t=this;Object(u.a)(this,e),this._apiBase="http://193.164.149.66/api/1.2",this._getResource=function(){var e=Object(q.a)(B.a.mark((function e(a){var n,r,o=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,fetch("".concat(t._apiBase).concat(a),n);case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Could not fetch ".concat(a));case 6:return e.next=8,r.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllGames=function(){var e=Object(q.a)(B.a.mark((function e(){var a,n,r,o,i,s,c,l,u,m,p,d,h,g,E=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=E.length,n=new Array(a),r=0;r<a;r++)n[r]=E[r];return o=n[0],i=n[1],s=n[2],c=n[3],l=n[4],u=n[5],m=c.join(","),p=l.join(","),d=Object(f.a)(u,2),h=d[0],g=d[1],e.abrupt("return",t._getResource("/games/?page=".concat(o,"&sortBy=").concat(i,"&orderBy=").concat(s,"&manufacturer=").concat(m,"&type=").concat(p,"&min=").concat(h,"&max=").concat(g)));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),this.getGameById=function(){var e=Object(q.a)(B.a.mark((function e(a){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t._getResource("/games/".concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._postAuth=function(){var e=Object(q.a)(B.a.mark((function e(a,n){var r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(a),{method:"post",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(n)});case 2:if((r=e.sent).ok){e.next=5;break}throw new Error("Could not fetch");case 5:return e.next=7,r;case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.signUp=function(){var e=Object(q.a)(B.a.mark((function e(a,n,r){var o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={email:a,password:n,name:r},e.abrupt("return",t._postAuth("/auth/signup",o));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),this.signIn=function(){var e=Object(q.a)(B.a.mark((function e(a,n){var r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={email:a,password:n},e.abrupt("return",t._postAuth("/auth/signin",r));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.getProfile=Object(q.a)(B.a.mark((function e(){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}},e.abrupt("return",t._getResource("/auth/whoami",a));case 2:case"end":return e.stop()}}),e)}))),this.postOrder=function(){var e=Object(q.a)(B.a.mark((function e(a,n,r,o){var i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={list:a,email:n,phone:r,name:o},e.abrupt("return",t._postAuth("/orders",i));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},H=new L,V=function(){return{type:"FETCH_GAMES_REQUEST"}},J=function(e,t,a,n){return{type:"FETCH_GAMES_SUCCESS",payload:{newGames:e,minPrice:t,maxPrice:a,allItems:n}}},z=function(e){return{type:"FETCH_GAMES_FAILURE",payload:e}},Q=function(e){return{type:"GAMES_ADDED_TO_CART",payload:e}},W=function(e){return{type:"GAMES_REMOVED_FROM_CART",payload:e}},X=function(e){return{type:"ALL_GAMES_REMOVED_FROM_CART",payload:e}},K=new L,Y=function(e,t,n){return function(){var r=Object(q.a)(B.a.mark((function r(o){return B.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o(te()),r.prev=1,r.next=4,K.signUp(e,t,n);case 4:r.sent.json().then((function(e){var t=e.token,n=a(162).verify(t,"secret").name;o(ee(t,n))})),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),o(re(r.t0));case 11:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e){return r.apply(this,arguments)}}()},Z=function(e,t){return function(){var n=Object(q.a)(B.a.mark((function n(r){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(te()),n.prev=1,n.next=4,K.signIn(e,t);case 4:n.sent.json().then((function(e){var t=e.token,n=a(162).verify(t,"secret").name;r(ae(t,n))})),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),r(re(n.t0));case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()},$=function(){return function(){var e=Object(q.a)(B.a.mark((function e(t){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(oe()),e.prev=1,e.next=4,K.getProfile();case 4:a=e.sent,t(ie(a.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(se(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},ee=function(e,t){return{type:"SIGNUP_SUCCESS",payload:{token:e,name:t}}},te=function(){return{type:"SIGNIN_START"}},ae=function(e,t){return{type:"SIGNIN_SUCCESS",payload:{token:e,name:t}}},ne=function(){return{type:"SIGNOUT"}},re=function(e){return{type:"SIGNIN_ERROR",payload:e}},oe=function(){return{type:"FETCH_PROFILE_REQUEST"}},ie=function(e){return{type:"FETCH_PROFILE_SUCCESS",payload:e}},se=function(e){return{type:"FETCH_PROFILE_FAILURE",payload:e}},ce=function(){return{type:"MODAL_SHOW"}},le=new L,ue=function(){return{type:"ORDER_START"}},me=function(){return{type:"ORDER_SUCCESS"}},pe=function(e){return{type:"ORDER_ERROR",payload:e}},de={fetchGames:function(e,t,a,n,r,o){return function(){var i=Object(q.a)(B.a.mark((function i(s){var c;return B.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s(V()),i.prev=1,i.next=4,H.getAllGames(e,t,a,n,r,o);case 4:c=i.sent,s(J(c.data,c.price.min,c.price.max,c.results)),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(1),s(z(i.t0));case 11:case"end":return i.stop()}}),i,null,[[1,8]])})));return function(e){return i.apply(this,arguments)}}()},filterChange:function(e,t){return function(){var a=Object(q.a)(B.a.mark((function a(n){return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n({type:"FETCH_GAMES_UPDATE",payload:e});case 2:t();case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},onAddedToCart:Q},he=Object(l.b)((function(e){var t=e.items,a=t.games,n=t.currentPage,r=t.allPages,o=t.sortBy,i=t.orderBy;return{games:a,loading:t.loading,error:t.error,manufacturer:t.manufacturer,currentPage:n,allPages:r,sortBy:o,orderBy:i,type:t.type,minPrice:t.minPrice,maxPrice:t.maxPrice,value:t.value,badge:t.badge}}),de)(U),ge=a(557),fe=a(9),Ee=a(558),ve=a(547),be=(a(475),a(266)),ye=a.n(be),Ce=a(552),Oe=a(549),_e=a(555),Se=(a(476),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e||a.props.signIn(a.state.email,a.state.password).then((function(){if(a.props.isAuth)return a.props.hideModal()}))}))},a.handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(g.a)({},r,n))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return o.a.createElement(Oe.a,{onSubmit:this.handleSubmit,className:"login-form"},this.props.error?o.a.createElement("p",{className:"error-message"},"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0430\u0448\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445"):null,o.a.createElement(w.a,{spinning:this.props.loading},o.a.createElement(Oe.a.Item,null,e("email",{rules:[{required:!0,message:"Please input your username!"}]})(o.a.createElement(_e.a,{prefix:o.a.createElement(fe.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email",name:"email",onChange:this.handleInputChange}))),o.a.createElement(Oe.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(o.a.createElement(_e.a,{prefix:o.a.createElement(fe.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",name:"password",onChange:this.handleInputChange}))),o.a.createElement(Oe.a.Item,null,o.a.createElement(k.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u0412\u043e\u0439\u0442\u0438"))))}}]),t}(r.Component)),je=Oe.a.create({name:"normal_login"})(Se),Ie=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1,email:"",name:"",password:""},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll((function(e,t){e||a.props.signUp(a.state.email,a.state.password,a.state.name).then((function(){if(a.props.isAuth)return a.props.hideModal()}))}))},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},a.handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(g.a)({},r,n))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return o.a.createElement(Oe.a,{onSubmit:this.handleSubmit,className:"register-form"},this.props.error?o.a.createElement("p",{className:"error-message"},"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0430\u0448\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445"):null,o.a.createElement(w.a,{spinning:this.props.loading},o.a.createElement(Oe.a.Item,{label:"E-mail"},e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(o.a.createElement(_e.a,{name:"email",onChange:this.handleInputChange}))),o.a.createElement(Oe.a.Item,{label:"Password",hasFeedback:!0},e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(o.a.createElement(_e.a.Password,{name:"password",onChange:this.handleInputChange}))),o.a.createElement(Oe.a.Item,{label:"Confirm Password",hasFeedback:!0},e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(o.a.createElement(_e.a.Password,{onBlur:this.handleConfirmBlur}))),o.a.createElement(Oe.a.Item,{label:"Name"},e("username",{rules:[{required:!0,message:"Please input your name"}]})(o.a.createElement(_e.a,{placeholder:"Please input your name",name:"name",onChange:this.handleInputChange})))),o.a.createElement(Oe.a.Item,null,o.a.createElement(k.a,{type:"primary",htmlType:"submit"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")))}}]),t}(o.a.Component),Ae=Oe.a.create({name:"register"})(Ie),Pe=function(e){var t=e.signUp,a=e.isAuth,n=e.loading,r=e.error;return a?o.a.createElement(c.a,{to:"/"}):o.a.createElement(Ae,{signUp:t,loading:n,error:r})},we=Pe,xe=function(e){var t=e.signIn,a=e.loading,n=e.error,r=e.signUp,i=e.visibleModal,s=e.signInOrUp,c=e.hideModal,l=e.changeSign,u=e.isAuth,m=s?o.a.createElement("div",null,o.a.createElement("h3",null,"\u0412\u0445\u043e\u0434"),o.a.createElement(k.a,{onClick:l},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")):o.a.createElement("div",null,o.a.createElement("h3",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),o.a.createElement(k.a,{onClick:l},"\u0412\u043e\u0439\u0442\u0438"));return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ce.a,{visible:i,title:m,centered:!0,footer:null,onCancel:c},s?o.a.createElement(je,{signIn:t,loading:a,error:n,hideModal:c,isAuth:u}):o.a.createElement(we,{signUp:r,loading:a,error:n,hideModal:c,isAuth:u})))},ke={signIn:Z,signUp:Y,hideModal:function(){return{type:"MODAL_HIDE"}},changeSign:function(){return{type:"MODAL_CHANGE"}}},Ne=Object(l.b)((function(e){var t=e.auth;return{isAuth:t.isAuth,loading:t.loading,error:t.error,signInOrUp:t.signInOrUp,visibleModal:t.visibleModal}}),ke)(xe),Re=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.badge,a=e.total,n=e.onRemovedToCart,r=e.onAddedToCart,i=e.onAllRemovedToCart,s=e.history,c=e.isAuth,l=e.user,u=e.signOut,m=e.showModal,p=o.a.createElement("div",null," ",o.a.createElement(N.b,{to:"/profile"},l),o.a.createElement(k.a,{onClick:u},"\u0412\u044b\u0439\u0442\u0438"));return o.a.createElement("header",{className:"header"},o.a.createElement(N.b,{to:"/"},o.a.createElement("img",{src:ye.a,alt:"logo",width:"140"})),c?p:o.a.createElement(o.a.Fragment,null,o.a.createElement(k.a,{onClick:m},"\u0412\u043e\u0439\u0442\u0438"),o.a.createElement(Ne,null)),o.a.createElement(ge.a,{count:t.reduce((function(e,t){return t.count+e}),0)},o.a.createElement(fe.a,{type:"shopping-cart",style:{fontSize:45,color:"#654321"}})),o.a.createElement("div",{className:"modal-cart"},o.a.createElement(Ee.a,{itemLayout:"horizontal",dataSource:t,renderItem:function(e){return o.a.createElement(Ee.a.Item,null,o.a.createElement(Ee.a.Item.Meta,{avatar:o.a.createElement(ve.a,{src:e.images[0]}),title:o.a.createElement(N.b,{to:"#",className:"modal-cart__item",onClick:function(t){return s.push("/games/".concat(e._id))}},e.title)}),o.a.createElement("div",null,o.a.createElement("span",null,e.price," \u20bd"),o.a.createElement("button",{className:"modal-cart__btn",onClick:function(){return n(e._id)}},o.a.createElement("i",{className:"fas fa-minus"})),o.a.createElement("span",{className:"modal-cart__count"},e.count," \u0448\u0442."),o.a.createElement("button",{className:"modal-cart__btn",onClick:function(){return r(e._id)}},o.a.createElement("i",{className:"fas fa-plus"})),o.a.createElement("button",{className:"modal-cart__btn",onClick:function(){return i(e._id)}},o.a.createElement("i",{className:"fas fa-trash-alt"}))))}}),o.a.createElement("div",{className:"modal-cart__badge"},o.a.createElement(N.b,{className:"modal-cart__badge-link",to:"/badge"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"),o.a.createElement("span",{className:"modal-cart__badge-total"},"\u0418\u0442\u043e\u0433\u043e: ",a," \u20bd"))))}}]),t}(r.Component),Te=Object(c.g)(Re),Me={onAddedToCart:Q,onRemovedToCart:W,onAllRemovedToCart:X,signOut:function(){return function(e){e(ne())}},signUp:Y,signIn:Z,showModal:ce},Fe=Object(l.b)((function(e){var t=e.items,a=e.auth;return{badge:t.badge,total:t.total,isAuth:a.isAuth,user:a.user,loading:a.loading,error:a.error}}),Me)(Te),De=(a(544),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={stage:0,delivery:null,payment:null,name:"",email:"",phone:"",success:!1},a.onChange=function(e){var t=e.target.name;a.setState(Object(g.a)({},t,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll((function(e,t){e||a.props.makeOrder(a.props.badge,a.state.email,a.state.phone,a.state.name,a.state.delivery,a.state.payment).then((function(){a.setState({success:!0})}))}))},a.onContinue=function(){a.props.isAuth?a.props.form.validateFieldsAndScroll((function(e,t){e||a.setState({stage:a.state.stage+1})})):a.props.showModal()},a.handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(g.a)({},r,n))},a.componentDidMount=function(){a.props.isAuth&&a.props.fetchProfile()},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.badge,a=e.total,n=e.onAddedToCart,r=e.onRemovedToCart,i=e.onAllRemovedToCart,s=e.history,c=this.props.form.getFieldDecorator,l={display:"block",height:"30px",lineHeight:"30px"};return o.a.createElement(o.a.Fragment,null,this.state.success&&this.props.orderSuccess?o.a.createElement("h2",null,"\u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u043d \u043d\u0430 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435, \u0441 \u0432\u0430\u043c\u0438 \u0441\u0432\u044f\u0436\u0443\u0442\u0441\u044f \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f"):null,o.a.createElement(Ee.a,{className:"cart-page",itemLayout:"horizontal",dataSource:t,renderItem:function(e){return o.a.createElement(Ee.a.Item,null,o.a.createElement(Ee.a.Item.Meta,{avatar:o.a.createElement(ve.a,{src:e.images[0]}),title:o.a.createElement(N.b,{to:"#",className:"modal-cart__item",onClick:function(t){return s.push("/games/".concat(e._id))}},e.title)}),o.a.createElement("div",null,o.a.createElement("span",null,e.price," \u20bd"),o.a.createElement("button",{className:"modal-cart__btn",onClick:function(){return r(e._id)}},o.a.createElement("i",{className:"fas fa-minus"})),o.a.createElement("span",{className:"modal-cart__count"},e.count," \u0448\u0442."),o.a.createElement("button",{className:"modal-cart__btn",onClick:function(){return n(e._id)}},o.a.createElement("i",{className:"fas fa-plus"})),o.a.createElement("span",{className:"modal-cart__count"},e.total," \u20bd"),o.a.createElement("button",{className:"modal-cart__btn",onClick:function(){return i(e._id)}},o.a.createElement("i",{className:"fas fa-trash-alt"}))))}}),o.a.createElement("div",{className:"modal-cart__badge cart-page__badge"},o.a.createElement("span",{className:"modal-cart__badge-total"},"\u0418\u0442\u043e\u0433\u043e: ",a," \u20bd")),0===t.length?null:o.a.createElement(Oe.a,{onSubmit:this.handleSubmit,className:"register-form"},o.a.createElement(w.a,{spinning:this.props.loading},this.state.stage>0?o.a.createElement(Oe.a.Item,{label:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:"},c("radio-delivery",{rules:[{required:!0}]})(o.a.createElement(y.a.Group,{onChange:this.onChange,name:"delivery"},o.a.createElement(y.a,{style:l,value:"\u0441\u0430\u043c\u043e\u0432\u044b\u0437\u043e\u0432"},"\u0421\u0430\u043c\u043e\u0432\u044b\u0437\u043e\u0432"),o.a.createElement(y.a,{style:l,value:"\u044f\u043d\u0434\u0435\u043a\u0441"},"\u042f\u043d\u0434\u0435\u043a\u0441.\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430"),o.a.createElement(y.a,{style:l,value:"\u043f\u043e\u0447\u0442\u0430"},"\u041f\u043e\u0447\u0442\u0430")))):null,this.state.stage>1?o.a.createElement(o.a.Fragment,null,o.a.createElement(Oe.a.Item,{label:"\u0424\u0418\u041e"},c("username",{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0424\u0418\u041e"}],initialValue:this.props.user})(o.a.createElement(_e.a,{name:"name",onChange:this.handleInputChange}))),o.a.createElement(Oe.a.Item,{label:"E-mail"},c("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 email!",initialValue:this.props.user}],initialValue:this.props.userData.email})(o.a.createElement(_e.a,{name:"email",onChange:this.handleInputChange}))),o.a.createElement(Oe.a.Item,{label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"},c("phone",{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d!"}],initialValue:this.props.userData.phone})(o.a.createElement(_e.a,{name:"phone",type:"tel",onChange:this.handleInputChange})))):null,this.state.stage>2?o.a.createElement(Oe.a.Item,{label:"\u041e\u043f\u043b\u0430\u0442\u0430:"},c("radio-payment",{rules:[{required:!0}]})(o.a.createElement(y.a.Group,{onChange:this.onChange,name:"payment"},o.a.createElement(y.a,{style:l,value:"cash"},"\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u043c\u0438/\u043a\u0430\u0440\u0442\u043e\u0439 \u043a\u0443\u0440\u044c\u0435\u0440\u0443"),o.a.createElement(y.a,{style:l,value:"yandex"},"\u042f\u043d\u0434\u0435\u043a\u0441.\u0414\u0435\u043d\u044c\u0433\u0438"),o.a.createElement(y.a,{style:l,value:"card"},"Visa, MasterCard")))):null,this.state.stage<3?o.a.createElement(k.a,{onClick:this.onContinue},"\u0414\u0430\u043b\u0435\u0435"):o.a.createElement(Oe.a.Item,null,o.a.createElement(k.a,{type:"primary",htmlType:"submit"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")))))}}]),t}(r.Component)),Ue=Oe.a.create({name:"validate_order"})(De),Ge=Object(c.g)(Ue),Be={onAddedToCart:Q,onRemovedToCart:W,onAllRemovedToCart:X,fetchProfile:$,signUp:Y,showModal:ce,makeOrder:function(e,t,a,n,r,o){return function(){var i=Object(q.a)(B.a.mark((function i(s){return B.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s(ue()),i.prev=1,i.next=4,le.postOrder(e,t,a,n,r,o);case 4:i.sent.json().then((function(){s(me())})),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(1),s(pe(i.t0));case 11:case"end":return i.stop()}}),i,null,[[1,8]])})));return function(e){return i.apply(this,arguments)}}()}},qe=Object(l.b)((function(e){var t=e.items,a=e.auth,n=t.badge,r=t.total,o=t.loading,i=t.orderSuccess;return{badge:n,total:r,isAuth:a.isAuth,user:a.user,userData:a.userData,loading:o,orderSuccess:i}}),Be)(Ge),Le=(a(545),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchGame(this.props.itemId)}},{key:"render",value:function(){var e=this.props,t=e.games,a=e.error,n=e.loading,r=e.onAddedToCart,i=n?o.a.createElement(w.a,{size:"large"}):null,s=a?o.a.createElement("p",null,"\u041e\u0428\u0418\u0411\u041a\u0410"):null,c=n||a?null:o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-9 item__desc"},o.a.createElement("h2",null,t[0].title),o.a.createElement("img",{src:t[0].images[0],alt:"desc",width:"400"}),o.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut a nunc ex. Proin convallis nulla ut laoreet cursus. Etiam mollis velit non orci congue accumsan. Etiam mollis nulla sit amet egestas vulputate. In ac tellus efficitur, tempus nibh a, egestas justo. Pellentesque ligula eros, imperdiet non nulla in, volutpat cursus sem. Morbi ullamcorper pretium odio a maximus. Sed dictum, massa ut rhoncus sagittis, purus elit rutrum quam, sed tempus ex metus ac ante. Suspendisse cursus ac libero vitae hendrerit. Proin dapibus ante et dolor commodo, eget consectetur tortor scelerisque. Vestibulum mollis nibh a felis dictum, vel sagittis erat dictum. In consectetur in neque quis tempus. Etiam at libero eu velit convallis mattis ut non orci. Integer sed diam et ligula tincidunt imperdiet."),o.a.createElement("p",null,"Donec tempor luctus nulla, sed porttitor quam facilisis nec. Suspendisse rutrum egestas ante at malesuada. Phasellus accumsan tempor quam nec ullamcorper. Curabitur luctus tincidunt elit, in cursus ligula. Mauris dignissim et urna bibendum blandit. Morbi diam mi, accumsan elementum porttitor in, eleifend efficitur sem. In varius odio purus, non hendrerit nisi accumsan id. Sed sit amet erat leo. Duis at lorem vitae leo pharetra mattis quis vel nibh. Etiam pharetra ultrices dictum. Cras eu commodo ante, non fermentum nisi. Sed nec porta justo. Nulla ut nisi nibh. Quisque gravida mauris justo, vitae tristique ex blandit nec. Fusce pellentesque imperdiet vulputate."),o.a.createElement("p",null,"Quisque accumsan lacinia risus, sed sagittis libero faucibus ut. Nullam faucibus urna justo, quis ornare massa feugiat vitae. Integer cursus ipsum et est lacinia, non tristique est luctus. Phasellus nulla libero, pretium nec ante sit amet, egestas sollicitudin odio. Duis efficitur ullamcorper placerat. Vestibulum nunc nulla, gravida non tortor eu, dignissim ultrices ligula. Sed vestibulum augue sit amet felis mollis, id consectetur mi convallis. Sed viverra tristique orci, vel cursus massa. Nullam fermentum mi odio, vel commodo mauris viverra sed. Morbi pretium nunc id arcu varius, in posuere est dictum."),o.a.createElement("p",null,"Pellentesque laoreet lobortis sem et imperdiet. Suspendisse ex enim, cursus ut orci at, fermentum cursus tellus. In lobortis in nunc non elementum. Donec ullamcorper justo in orci tempus consectetur. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Pellentesque dignissim risus dui, eu vulputate massa varius sed. Integer nec eros eros. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus."),o.a.createElement("p",null,"Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Morbi nisl enim, commodo vel neque in, tempor interdum urna. Vivamus et finibus est. Integer vel dolor elit. Proin fringilla suscipit ex, ut interdum mauris feugiat sit amet. Donec sed lacus vitae enim aliquet pellentesque. Interdum et malesuada fames ac ante ipsum primis in faucibus. Fusce imperdiet dolor vel lacus consequat dignissim. Vivamus dictum malesuada lorem, id luctus odio pharetra id. Mauris maximus suscipit accumsan. Nullam sollicitudin libero eros, ac mattis risus volutpat quis.")),o.a.createElement("div",{className:"col-lg-3 item-page__sidebar"},o.a.createElement("span",{className:"item-page__price"},t[0].price," \u20bd"),o.a.createElement("button",{onClick:function(e){return r(t[0]._id)},className:"ant-btn ant-btn-secondary"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443")));return o.a.createElement("article",{className:"  "},i,s,c)}}]),t}(r.Component)),He={fetchGame:function(e){return function(){var t=Object(q.a)(B.a.mark((function t(a){var n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(V()),t.prev=1,t.next=4,H.getGameById(e);case 4:n=t.sent,a(J([n.data])),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(z(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},onAddedToCart:Q},Ve=Object(l.b)((function(e){var t=e.items;return{games:t.games,loading:t.loading,error:t.error}}),He)(Le),Je={signUp:Y},ze=Object(l.b)((function(e){var t=e.auth;return{isAuth:t.isAuth,loading:t.loading,error:t.error}}),Je)(Pe),Qe=function(e){var t=e.signIn,a=e.isAuth,n=e.loading,r=e.error;return a?o.a.createElement(c.a,{to:"/"}):o.a.createElement(je,{signIn:t,loading:n,error:r})},We={signIn:Z},Xe=Object(l.b)((function(e){var t=e.auth;return{isAuth:t.isAuth,loading:t.loading,error:t.error}}),We)(Qe),Ke=function(){return o.a.createElement("div",null,"Error!")},Ye=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){a.props.fetchProfile()},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loading,a=e.error,n=e.isAuth,r=e.userData,i=t?o.a.createElement(w.a,null):null,s=a?o.a.createElement(Ke,null):null,l=t||a?null:o.a.createElement("div",null,o.a.createElement("p",null,r.name),o.a.createElement("p",null,"\u0420\u043e\u043b\u044c: ",r.role),o.a.createElement("h3",null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043a\u0430\u0437\u043e\u0432:"));return n?o.a.createElement("div",null,i,s,l):o.a.createElement(c.a,{to:"/signin"})}}]),t}(r.Component),Ze={fetchProfile:$},$e=Object(l.b)((function(e){var t=e.auth;return{isAuth:t.isAuth,loading:t.loading,userData:t.userData,error:t.error}}),Ze)(Ye),et=function(){return o.a.createElement("main",{role:"main",className:"container"},o.a.createElement(Fe,null),o.a.createElement(c.d,null,o.a.createElement(c.b,{path:"/",component:he,exact:!0}),o.a.createElement(c.b,{path:"/badge",component:qe,exact:!0}),o.a.createElement(c.b,{path:"/signup",component:ze,exact:!0}),o.a.createElement(c.b,{path:"/signin",component:Xe,exact:!0}),o.a.createElement(c.b,{path:"/profile",component:$e,exact:!0}),o.a.createElement(c.b,{path:"/games/:id",render:function(e){var t=e.match.params.id;return o.a.createElement(Ve,{itemId:t})}})))},tt=Ke,at=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?o.a.createElement(tt,null):this.props.children}}]),t}(r.Component),nt=o.a.createContext(),rt=nt.Provider,ot=(nt.Consumer,a(68)),it=a(272),st=a(162);localStorage.getItem("token")&&(n=st.verify(localStorage.getItem("token"),"secret").name);var ct={token:localStorage.getItem("token"),user:n,isAuth:!!localStorage.getItem("token"),loading:!1,error:null,userData:{},signInOrUp:!0,visibleModal:!1},lt=a(88),ut={games:[],sortBy:"createdAt",orderBy:"desc",loading:!1,error:!1,currentPage:1,page:10,allPages:10,minPrice:1,maxPrice:99999,type:[],manufacturer:[],value:[0,1e6],badge:localStorage.getItem("badge")?JSON.parse(localStorage.getItem("badge")):[],total:localStorage.getItem("total")?JSON.parse(localStorage.getItem("total")):0,orderSuccess:!1},mt=function(e,t,a){if(0===t.count){var n=[].concat(Object(lt.a)(e.slice(0,a)),Object(lt.a)(e.slice(a+1)));return localStorage.setItem("badge",JSON.stringify(n)),n}if(-1===a){var r=[].concat(Object(lt.a)(e),[t]);return localStorage.setItem("badge",JSON.stringify(r)),r}var o=[].concat(Object(lt.a)(e.slice(0,a)),[t],Object(lt.a)(e.slice(a+1)));return localStorage.setItem("badge",JSON.stringify(o)),o},pt=function(e,t,a){var n=e.games,r=e.badge,o=n.find((function(e){return e._id===t})),i=r.findIndex((function(e){return e._id===t})),s=r[i];o||(o=s);var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,n=t._id,r=void 0===n?e._id:n,o=t.price,i=void 0===o?e.price:o,s=t.images,c=void 0===s?e.images:s,l=t.count,u=void 0===l?0:l,m=t.title,p=void 0===m?e.title:m,d=t.total,h=void 0===d?0:d;return{_id:r,title:p,price:i,images:c,count:u+a,total:h+a*Math.floor(e.price)}}(o,s,a),l=Math.floor(c.price)*a+e.total;return localStorage.setItem("total",JSON.stringify(l)),Object(E.a)({},e,{total:l,badge:mt(r,c,i)})},dt=Object(ot.c)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_GAMES_UPDATE":return Object(E.a)({},e,{},t.payload);case"FETCH_GAMES_REQUEST":return Object(E.a)({},e,{games:[],error:!1,loading:!0});case"FETCH_GAMES_SUCCESS":return Object(E.a)({},e,{games:t.payload.newGames,minPrice:t.payload.minPrice,maxPrice:t.payload.maxPrice,allPages:10*Math.ceil(t.payload.allItems/6),error:!1,loading:!1});case"FETCH_GAMES_FAILURE":return Object(E.a)({},e,{games:[],loading:!1,error:t.payload});case"GAMES_ADDED_TO_CART":return pt(e,t.payload,1);case"GAMES_REMOVED_FROM_CART":return pt(e,t.payload,-1);case"ALL_GAMES_REMOVED_FROM_CART":var a=e.badge.find((function(e){return e._id===t.payload}));return pt(e,t.payload,-a.count);case"ORDER_START":return Object(E.a)({},e,{loading:!0,error:!1,orderSuccess:!1});case"ORDER_SUCCESS":return localStorage.setItem("badge",[]),localStorage.setItem("total",[]),Object(E.a)({},e,{loading:!1,error:!1,badge:[],total:0,orderSuccess:!0});case"ORDER_ERROR":return Object(E.a)({},e,{loading:!1,error:!0,orderSuccess:!1});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SIGNIN_START":return Object(E.a)({},e,{loading:!0,error:!1});case"SIGNIN_SUCCESS":case"SIGNUP_SUCCESS":return localStorage.setItem("token",n.token),Object(E.a)({},e,{loading:!1,error:!1,isAuth:!0,user:n.name});case"SIGNIN_ERROR":return Object(E.a)({},e,{loading:!1,error:!0});case"SIGNOUT":return localStorage.removeItem("token"),Object(E.a)({},e,{isAuth:!1});case"FETCH_PROFILE_REQUEST":return Object(E.a)({},e,{userData:{},error:!1,loading:!0});case"FETCH_PROFILE_SUCCESS":return Object(E.a)({},e,{userData:n,error:!1,loading:!1});case"FETCH_PROFILE_FAILURE":return Object(E.a)({},e,{userData:{},loading:!1,error:t.payload});case"MODAL_SHOW":return Object(E.a)({},e,{visibleModal:!0});case"MODAL_HIDE":return Object(E.a)({},e,{visibleModal:!1});case"MODAL_CHANGE":return Object(E.a)({},e,{signInOrUp:!e.signInOrUp});default:return e}}}),ht=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ot.d,gt=Object(ot.e)(dt,ht(Object(ot.a)(it.a))),ft=new L;s.a.render(o.a.createElement(l.a,{store:gt},o.a.createElement(at,null,o.a.createElement(rt,{value:ft},o.a.createElement(N.a,null,o.a.createElement(et,null))))),document.getElementById("root"))}},[[277,1,2]]]);
//# sourceMappingURL=main.9212a613.chunk.js.map