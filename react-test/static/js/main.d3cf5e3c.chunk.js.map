{"version":3,"sources":["components/basket-item/basket-item.js","components/basket/basket.js","components/items/items.js","components/items/basket.png","components/app/app.js","components/app/basket.png","index.js"],"names":["BasketItem","state","inputValue","props","item","count","componentDidUpdate","prevProps","setState","handleChange","event","target","value","changeItems","handleBlur","max","Math","floor","this","deleteItems","usd","sum","ceil","price","className","title","type","onChange","step","min","quantity","onBlur","onClick","Component","Basket","basket","Object","entries","map","el","reduce","acc","Items","items","addItems","categories","increment","Array","from","category","filter","src","alt","style","color","id","App","JSON","parse","localStorage","getItem","showModal","componentDidMount","interval","setInterval","rand","random","componentWillUnmount","clearInterval","handleShowModal","handleDeleteItem","newBasket","setItem","stringify","handleAddItems","currentItem","handleChangeCountItems","changedItem","Set","dataJson","Value","Goods","add","namesJson","G","C","T","P","B","N","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d3cf5e3c.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Component } from \"react\";\r\n\r\nclass BasketItem extends Component {\r\n  state = {\r\n    inputValue: this.props.item[1].count,\r\n  };\r\n\r\n  componentDidUpdate = (prevProps) => {\r\n    if (this.props.item[1].count !== prevProps.item[1].count) {\r\n      this.setState({\r\n        inputValue: this.props.item[1].count,\r\n      });\r\n    }\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    this.setState({ inputValue: event.target.value }, () => {\r\n      this.props.changeItems(this.props.item[0], this.state.inputValue);\r\n    });\r\n  };\r\n\r\n  handleBlur = (max) => {\r\n    if (this.state.inputValue > max) {\r\n      this.setState({ inputValue: max }, () => {\r\n        this.props.changeItems(this.props.item[0], this.state.inputValue);\r\n      });\r\n      return;\r\n    }\r\n    if (this.state.inputValue < 1) {\r\n      this.setState({ inputValue: 1 }, () => {\r\n        this.props.changeItems(this.props.item[0], this.state.inputValue);\r\n      });\r\n      return;\r\n    }\r\n    this.setState(\r\n      ({ inputValue }) => {\r\n        return {\r\n          inputValue: Math.floor(inputValue),\r\n        };\r\n      },\r\n      () => {\r\n        this.props.changeItems(this.props.item[0], this.state.inputValue);\r\n      }\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { inputValue } = this.state;\r\n    const { item, deleteItems, usd } = this.props;\r\n\t\tconst sum = Math.ceil(item[1].price * usd);\r\n    return (\r\n      <div key={item[0]} className=\"basket__row\">\r\n        <div className=\"basket__name basket__cell\">{item[1].title}</div>\r\n        <div className=\"basket__cell\">\r\n          <input\r\n            className=\"basket__count basket__input\"\r\n            type=\"number\"\r\n            value={inputValue}\r\n            onChange={this.handleChange}\r\n            step=\"1\"\r\n            min=\"1\"\r\n            max={item[1].quantity}\r\n            onBlur={() => this.handleBlur(item[1].quantity)}\r\n          />\r\n        </div>\r\n        <div className=\"basket__price basket__cell\">\r\n          {sum} руб/шт.\r\n        </div>\r\n        <div className=\"basket__cell\">\r\n          <button\r\n            onClick={() => deleteItems(item[0])}\r\n            className=\"basket__delete\"\r\n          >\r\n            Удалить\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BasketItem;\r\n","import React from \"react\";\r\nimport { Component } from \"react\";\r\nimport BasketItem from \"../basket-item/basket-item\";\r\nimport \"./style.scss\";\r\n\r\nclass Basket extends Component {\r\n  state = {\r\n    basket: this.props.basket,\r\n  };\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.basket !== prevProps.basket) {\r\n      this.setState({\r\n        basket: this.props.basket,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { basket } = this.state;\r\n    const { deleteItems, changeItems, usd } = this.props;\r\n    const sum = (acc, el) => (acc += Math.ceil(el[1].price * usd) * el[1].count);\r\n    return (\r\n      <div className=\"module\">\r\n        <div className=\"basket\">\r\n          <div className=\"basket__row basket__title\">\r\n            <div className=\"basket__cell basket__name\">\r\n              Наименование товара и описание\r\n            </div>\r\n            <div className=\"basket__cell basket__count\">Количество</div>\r\n            <div className=\"basket__cell basket__price\">Цена</div>\r\n            <div className=\"basket__cell\"></div>\r\n          </div>\r\n          {Object.entries(basket).map((el) => {\r\n            return (\r\n              <BasketItem\r\n                deleteItems={deleteItems}\r\n                changeItems={changeItems}\r\n                item={el}\r\n                key={el[0]}\r\n                usd={usd}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n        <div className=\"basket__sum\">\r\n          <span>Общая стоимость:</span>\r\n          <span className=\"basket__sum-numbers\">\r\n            {Object.entries(basket).reduce(sum, 0)} руб.\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Basket;\r\n","import React from \"react\";\r\nimport basketImg from \"./basket.png\";\r\nimport \"./style.scss\";\r\n\r\nconst Items = (props) => {\r\n  const { items, addItems, categories, usd, increment } = props;\r\n\r\n  return (\r\n    <div className=\"items\">\r\n      {Array.from(categories).map((category) => {\r\n        return (\r\n          <div key={category} className=\"items__categories\">\r\n            <p className=\"items__title\">{category}</p>\r\n            <div className=\"items__category\">\r\n              {items\r\n                .filter((el) => el.category === category)\r\n                .map((el) => {\r\n                  return (\r\n                    <div key={el.id} className=\"items__item\">\r\n                      <p className=\"items__item-title\">{`${el.title}(${el.quantity})`}</p>\r\n                      <div>\r\n                        <button\r\n                          onClick={() => addItems(el)}\r\n                          className=\"items__item-btn\"\r\n                        >\r\n                          <img src={basketImg} alt=\"добавить в корзину\" />\r\n                        </button>\r\n                      </div>\r\n                      <span\r\n                        className=\"items__item-price\"\r\n                        style={{ color: `${increment}` }}\r\n                      >\r\n                        {Math.ceil(el.price * usd)}\r\n                      </span>\r\n                    </div>\r\n                  );\r\n                })}\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Items;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAiJQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////VPeuSwAAALR0Uk5TACaFl5ZxEwOi/WcBjv6zCBRZamlt1OoxgnQ68MANEswviz/yx1hVVk4aD8T8sA6QFl3NgIF/pqguuQlyc+Ikp/RA+RfV2GCEPKsEMu23eRncGwWvOAznKnso5sNH959U+5Ef3c+JWge1Yj1E64/49vqYjCsCeJJcQoaKSAps5JX1HnbbNLQp3lG/nOBkIqRXlEad4yHQiF6y7zW7MMsQUsZfmxURveXJ0nAs8dF3TME2LSUndt6R+QAAAAFiS0dEtTMOWksAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAJESURBVEjH5ZTpVxJRGMZvzSSONKGBlLFYQoE2ma0gtIqaWdlmVpqGS1FEBEF7GmVmRdK+WxZm+97zBzYDnc4J7vXAOX2q58s973Oe35l73/vOJeRf0ZSpHM/z3LSCHPOqQqQkFOUIqKeLaWKGJkeiuGSmVqsrhX5WXieZDZTlBcwxwGjKBzCXQz83r0/MA3R5ARUWWOcvoMpmr6QAVQshSiwtqqYQi8FWaQ0FWCJg6bLl2VqxUoJDRQGcetS6aKdzA6tofpUVq9dQfNVarFtP7ROPOjvF9tSjoZIKNIrYQLGbLNjYTAU2bcYWysTqgBb61W1twLbt2TYHyUYHduyEoTXL3WVE2246QPYA2ixzbzs6WGO8rxNd6kxzvxfdjDzp6UVf1lNwANJBFuA7BMNhf8UfOmJFwMkCyFEgeCxDAuo9TKAkRBvVQhUTMLnDfKa44xHyFxV1nuBOnqr5VWlOnwmfPXd+kryrf0Des7cjfd+eCxa5inVdZAOXgnJcAAYvKwdyAGJIfkeHzKz8lWHE+KuN14Dr8jzbOjHQYi+Lw3uDBfQDYR8hkUHER4gqgZCSvBnDkI8B3ELwtrLeQcxPXEbcvScXxffZN/cA0kOlOY/w+AnRPEVgVK5GevHsOQMYq8OLSNT30oLyAmXqkBxXm7tFJNUM4NUExGFHrQGCW65GX8Pbl3gTQsDPbGvT29TweJNKI6NFgVRleNfMBMj7RPxD4OOn9Esa/TzRbmn7MjZJXv4ler5+G/+9ZdP31h/V5D/XT5dm4iH+SedRAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTA5LTI2VDE4OjE0OjQ5KzAyOjAwLmbTMgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wOS0yNlQxODoxNDo0OSswMjowMF87a44AAABGdEVYdHNvZnR3YXJlAEltYWdlTWFnaWNrIDYuNy44LTkgMjAxNi0wNi0xNiBRMTYgaHR0cDovL3d3dy5pbWFnZW1hZ2ljay5vcmfmvzS2AAAAGHRFWHRUaHVtYjo6RG9jdW1lbnQ6OlBhZ2VzADGn/7svAAAAGHRFWHRUaHVtYjo6SW1hZ2U6OmhlaWdodAA1MTLA0FBRAAAAF3RFWHRUaHVtYjo6SW1hZ2U6OldpZHRoADUxMhx8A9wAAAAZdEVYdFRodW1iOjpNaW1ldHlwZQBpbWFnZS9wbmc/slZOAAAAF3RFWHRUaHVtYjo6TVRpbWUAMTUzNzk3ODQ4OZY9RYwAAAATdEVYdFRodW1iOjpTaXplADkuODFLQkLPQuJyAAAAb3RFWHRUaHVtYjo6VVJJAGZpbGU6Ly8uL3VwbG9hZHMvNTYvNlF1endrRS8xNTgwLzI4NDk4MjQtYmFza2V0LWJ1eS1tYXJrZXQtbXVsdGltZWRpYS1zaG9wLXNob3BwaW5nLXN0b3JlXzEwNzk3Ny5wbmdjHhU4AAAAAElFTkSuQmCC\"","import React from \"react\";\r\nimport { Component } from \"react\";\r\nimport dataJson from \"../../json/data.json\";\r\nimport namesJson from \"../../json/names.json\";\r\nimport Basket from \"../basket/basket\";\r\nimport Items from \"../items/items\";\r\nimport \"./style.scss\";\r\nimport basketImg from \"./basket.png\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    basket: JSON.parse(localStorage.getItem(\"basket\")) || {},\r\n    showModal: false,\r\n    usd: 50,\r\n    increment: \"black\",\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.interval = setInterval(() => {\r\n      const rand = Math.random() * 60 + 20;\r\n      this.setState(({ usd }) => {\r\n        if (rand > usd) {\r\n          return {\r\n            increment: \"red\",\r\n            usd: rand,\r\n          };\r\n        }\r\n        if (rand < usd) {\r\n          return {\r\n            increment: \"green\",\r\n            usd: rand,\r\n          };\r\n        }\r\n        return {\r\n          increment: \"black\",\r\n        };\r\n      });\r\n    }, 15000);\r\n  };\r\n\r\n  componentWillUnmount = () => {\r\n    clearInterval(this.interval);\r\n  };\r\n\r\n  handleShowModal = () => {\r\n    this.setState(({ showModal }) => {\r\n      return {\r\n        showModal: !showModal,\r\n      };\r\n    });\r\n  };\r\n\r\n  handleDeleteItem = (id) => {\r\n    const { basket } = this.state;\r\n    const { [id]: _, ...newBasket } = basket;\r\n    this.setState({ basket: newBasket }, () => {\r\n      localStorage.setItem(\"basket\", JSON.stringify(this.state.basket));\r\n    });\r\n  };\r\n\r\n  handleAddItems = (item) => {\r\n    if (this.state.basket[item.quantity]) {\r\n      const count = +this.state.basket[item.quantity].count;\r\n      const max = this.state.basket[item.quantity].quantity;\r\n      const currentItem = {\r\n        ...this.state.basket[item.quantity],\r\n        count: count + 1 > max ? max : count + 1,\r\n      };\r\n      this.setState(\r\n        {\r\n          basket: {\r\n            ...this.state.basket,\r\n            [item.quantity]: currentItem,\r\n          },\r\n        },\r\n        () => {\r\n          localStorage.setItem(\"basket\", JSON.stringify(this.state.basket));\r\n        }\r\n      );\r\n      return;\r\n    }\r\n    this.setState(\r\n      {\r\n        basket: {\r\n          ...this.state.basket,\r\n          [item.quantity]: { ...item, count: 1 },\r\n        },\r\n      },\r\n      () => {\r\n        localStorage.setItem(\"basket\", JSON.stringify(this.state.basket));\r\n      }\r\n    );\r\n  };\r\n\r\n  handleChangeCountItems = (id, count) => {\r\n    const changedItem = this.state.basket[id];\r\n    changedItem.count = count;\r\n    this.setState(\r\n      {\r\n        basket: { ...this.state.basket, [id]: changedItem },\r\n      },\r\n      () => {\r\n        localStorage.setItem(\"basket\", JSON.stringify(this.state.basket));\r\n      }\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const categories = new Set();\r\n    const items = dataJson.Value.Goods.map((el) => {\r\n      categories.add(namesJson[el.G].G);\r\n      return {\r\n        price: el.C,\r\n        id: el.T,\r\n        quantity: el.P,\r\n        category: namesJson[el.G].G,\r\n        title: namesJson[el.G].B[el.T].N,\r\n      };\r\n    });\r\n\r\n    const { showModal, basket, usd, increment } = this.state;\r\n    return (\r\n      <div className=\"main\">\r\n        <button onClick={this.handleShowModal} className=\"main__basket\">\r\n          <img src={basketImg} alt=\"корзина\" />\r\n        </button>\r\n        {showModal ? (\r\n          <Basket\r\n            basket={basket}\r\n            deleteItems={this.handleDeleteItem}\r\n            changeItems={this.handleChangeCountItems}\r\n            usd={usd}\r\n          />\r\n        ) : null}\r\n        <Items\r\n          items={items}\r\n          categories={categories}\r\n          addItems={this.handleAddItems}\r\n          usd={usd}\r\n          increment={increment}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/app'\nimport './style.scss'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}